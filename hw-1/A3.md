# Задача A3
Дан следующий фрагмент программного кода на языке C++, где n – это некоторая заранее заданная положительная целочисленная константа:
```cpp
int x = 100;
int y = 0;
for (size_t r = 1; r <= n; r = 2 * r) {
    x = x + r;
    for (size_t c = 2; c < n; c++) {
        if (x > y / c)
            y = y + r / c;
        else
            y = y - 1;
```
1. Составьте точное выражение для функции временной сложности T(n) c учетом того, что арифметическая операция, присваивание и сравнение считаются одной элементарной операцией (каждая). В ответе представьте ход вычислений. При составлении выражения для T(n) обратите особое внимание на условный оператор.
2. Найдите функцию f(n), для которой справедливо T(n) = θ(f(n)). Обоснуйте свой ответ в соответствии с определением θ-нотации.

### Задание 1
```cpp
int x = 100; // T(1)
int y = 0; // T(1)
for (size_t r = 1; r <= n; r = 2 * r) { // + T(4)
    x = x + r; // T(2) 
    for (size_t c = 2; c < n; c++) { // + T(3)
        if (x > y / c) // T(2)
            y = y + r / c; // T(3)
        else
            y = y - 1; // T(2)
```

Пусть сейчас i-я итерация цикла, причем мы еще не были в ветви else. Тогда после выполнения итерации `x = 100 + 2^i - 1 = 2^i + 99`. Для `y` в каждой итерации внутреннего цикла мы получаем увеличение на число вида `2^p*(H_n - 1)`. Тогда к i-й итерации внешнего цикла имеем `y = (2^i - 1)H_n`. Тогда условный оператор имеет вид `2^i + 99 ? (2^i - 1)H_n` ~ `2^i + 99 ? 2^i*H_n - H_n` ~ `2^i(H_n - 1) ? H_n + 99`. Я правда не знаю что мне с этим делать, могу лишь сказать что левая часть обычно больше правой, поэтому давайте считать что временная сложность одной итерации внутреннего цикла равна ~ T(3), хоть и выполнение else-ветви требует меньше затрат. (Здесь H_n - сумма со 2 по n+1 членов гармонического ряда).\
Теперь, очевидно внутренний цикл выполнится `n-2` раза. Тогда его общая сложность с учетом инициализации цикла T(3)*(n-2) = T(3n - 6 + 3) = T(3n - 3). Далее затраты на обновление `x` равны T(2), общие затраты на одну итерацию внешнего цикла равны T(3n - 1). Внешний цикл будет выполнен `log2(n)` раз, тогда учтя присваивания в начале и инициализации цикла имеем общую сложность `T(log2(n) * (3n - 1) + 6)`.

### Задание 2
Очевидно быстрее всех в `T(n) = T(log2(n) * (3n - 1) + 6)` растет `3n - 1`. Тогда `f(n) = 3n - 1`. Мы без проблем сможем найти две константы `c1` и `c2`, при которых `f(n)` будет ограничивать `T(n)` сверху и снизу соответственно.